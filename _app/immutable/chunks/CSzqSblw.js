import{x as D,y as v,z as O,E as U,H as y,A as F,B as H,C as h,D as I,F as T,G as N,I as A,U as C,J as L,K as M,M as Y,N as E,v as k,O as q,Q as w,g as z,c as B}from"./D_t2Yjvp.js";function J(e,n,[a,s]=[0,0]){v&&a===0&&O();var u=e,f=null,i=null,t=C,R=a>0?U:0,c=!1;const S=(b,r=!0)=>{c=!0,p(r,b)},p=(b,r)=>{if(t===(t=b))return;let g=!1;if(v&&s!==-1){if(a===0){const o=u.data;o===y?s=0:o===F?s=1/0:(s=parseInt(o.substring(1)),s!==s&&(s=t?1/0:-1))}const m=s>a;!!t===m&&(u=H(),h(u),I(!1),g=!0,s=-1)}t?(f?T(f):r&&(f=N(()=>r(u))),i&&A(i,()=>{i=null})):(i?T(i):r&&(i=N(()=>r(u,[a+1,s]))),f&&A(f,()=>{f=null})),g&&I(!0)};D(()=>{c=!1,n(S),c||p(null,null)},R),v&&(u=L)}let l=!1,_=Symbol();function K(e,n,a){const s=a[n]??(a[n]={store:null,source:k(void 0),unsubscribe:E});if(s.store!==e&&!(_ in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=E;else{var u=!0;s.unsubscribe=q(e,f=>{u?s.source.v=f:B(s.source,f)}),u=!1}return e&&_ in a?w(e):z(s.source)}function P(){const e={};function n(){M(()=>{for(var a in e)e[a].unsubscribe();Y(e,_,{enumerable:!1,value:!0})})}return[e,n]}function Q(e){var n=l;try{return l=!1,[e(),l]}finally{l=n}}export{K as a,Q as c,J as i,P as s};
